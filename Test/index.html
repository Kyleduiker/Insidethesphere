<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter Builder Pro</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;500;600&family=Crimson+Text:wght@400;600&family=Raleway:wght@300;400;500&family=Lora:wght@400;500&family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
</head>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Modals -->
    <div id="modals-container">
        <!-- Export Modal -->
        <div class="modal-overlay" id="exportModal">
            <div class="modal">
                <h3>üìß Export Newsletter</h3>
                
                <div class="compatibility-warning">
                    <h4>‚úÖ Email Client Compatibility</h4>
                    <ul>
                        <li>All images are automatically uploaded to Imgur for perfect email compatibility</li>
                        <li>Newsletter uses hosted image URLs - works in all email clients</li>
                        <li>No blocked images or deliverability issues</li>
                        <li>Always test in your target email clients before sending</li>
                        <li>Professional hosting ensures images load reliably</li>
                    </ul>
                </div>
                
                <div class="compatibility-info">
                    <h4>üìä Email Client Support</h4>
                    <div>
                        ‚úÖ <strong>Gmail:</strong> Excellent support<br>
                        ‚úÖ <strong>Apple Mail:</strong> Best support
                    </div>
                </div>

                <div class="compatibility-info">
                    <h4>üñ®Ô∏è Print Optimization</h4>
                    <div>
                        <strong>Print Version:</strong> Optimized for standard letter paper (8.5" x 11")<br>
                        <strong>Features:</strong> Proper margins, page breaks, black & white friendly<br>
                        <strong>Best For:</strong> Client handouts, office distribution, archival copies
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn--primary" data-action="copy-email">
                        üìß Copy Newsletter for email
                    </button>
                    <button class="btn btn--success" data-action="export-html">
                        üìÑ Download HTML File (Hosted URLs)
                    </button>
                    <button class="btn btn--info" data-action="print">
                        üñ®Ô∏è Print Newsletter
                    </button>
                    <button class="btn btn--secondary" data-action="close-modal">
                        Cancel
                    </button>
                </div>
            </div>
        </div>

        <!-- Add Event Modal -->
        <div class="modal-overlay" id="addEventModal">
            <div class="modal">
                <h3>Add Event</h3>
                <form id="addEventForm" class="event-form">
                    <div class="form-group">
                        <label class="form-label required">Event Title</label>
                        <input type="text" name="title" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Date</label>
                            <input type="date" name="date" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Start Time</label>
                            <input type="time" name="startTime">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">End Time</label>
                        <input type="time" name="endTime">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Location</label>
                        <input type="text" name="location">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Description (Optional)</label>
                        <textarea name="description" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Event Details Link (Optional)</label>
                        <input type="url" name="detailsLink" placeholder="https://example.com/event-details">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Event Image (Optional)</label>
                        <input type="file" name="image" accept="image/*">
                        <div class="image-preview" style="display: none;">
                            <img alt="Event preview">
                            <button type="button" class="btn-remove-image">Remove</button>
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button type="submit" class="btn btn--primary">Add Event</button>
                        <button type="button" class="btn btn--secondary" data-action="close-modal">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Maintenance Tips Modal -->
        <div class="modal-overlay" id="maintenanceTipsModal">
            <div class="modal">
                <h3>üîß Manage Maintenance Tips</h3>
                
                <div class="current-month-display">
                    <strong>Current Month: </strong>
                    <span id="modalCurrentMonth"></span>
                </div>
                
                <div id="maintenanceTipsList" class="tips-list"></div>
                
                <div class="form-group">
                    <label class="form-label">Add New Tip</label>
                    <div class="input-with-actions">
                        <input type="text" id="newMaintenanceTip" placeholder="Enter a new maintenance tip...">
                        <button type="button" class="btn btn--info" data-action="toggle-emoji-picker">üòä</button>
                        <button type="button" class="btn btn--primary" data-action="add-tip">Add Tip</button>
                    </div>
                    
                    <!-- Emoji Picker -->
                    <div id="emojiPicker" class="emoji-picker" style="display: none;">
                        <!-- Emoji picker content will be generated by JS -->
                    </div>
                </div>
                
                <div class="reset-section">
                    <button type="button" class="btn btn--secondary btn--full" data-action="reset-tips">
                        üîÑ Reset to Default Seasonal Tips
                    </button>
                    <small>This will restore the original tips for the selected month and remove all custom tips</small>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn--primary" data-action="close-modal">Done</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="content-container">
            <div class="dashboard-container">
                <!-- Sidebar -->
                <aside class="sidebar">
                    <div class="app-header">
                        <h1>Newsletter Builder Pro</h1>
                        <p class="subtitle">Enhanced Real Estate Marketing</p>
                        <div class="edition-badge">
                            <strong id="currentMonth">August 2025 Edition</strong><br>
                            <small>üöÄ Production Ready</small>
                        </div>
                    </div>
                    
                    <div class="form-content" id="newsletter-form">
                        <!-- Form sections will be loaded by JavaScript -->
                    </div>
                </aside>

                <!-- Preview Container -->
                <div class="preview-container">
                    <div class="preview-header">
                        <button class="btn btn--primary" data-action="toggle-instructions">
                            üìñ Quick User Guide
                        </button>
                        
                        <!-- Instructions Popup -->
                        <div id="instructionsPopup" class="instructions-popup" style="display: none;">
                            <h3>üöÄ Quick Start Guide</h3>
                            <div class="instruction-steps">
                                <!-- Steps will be generated by JS -->
                            </div>
                            <div class="instruction-actions">
                                <button class="btn btn--primary" data-action="toggle-instructions">Got it! üëç</button>
                            </div>
                        </div>
                        
                        <p class="preview-status">
                            <span id="previewStatus">üìù Start filling out the form to see your newsletter preview</span>
                        </p>
                    </div>
                    
                    <div class="newsletter-preview" id="newsletterPreview">
                        <!-- Newsletter content will be generated here -->
                    </div>
                    
                    <div class="preview-actions">
                        <button class="btn btn--primary" data-action="show-export-modal">
                            üìß Export Options
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/utils/dom-helpers.js"></script>
    <script src="assets/js/utils/validators.js"></script>
    <script src="assets/js/utils/formatters.js"></script>
    <script src="assets/js/modules/newsletter-data.js"></script>
    <script src="assets/js/modules/modal-manager.js"></script>
    <script src="assets/js/modules/image-handler.js"></script>
    <script src="assets/js/modules/form-handler.js"></script>
    <script src="assets/js/modules/preview-generator.js"></script>
    <script src="assets/js/modules/export-manager.js"></script>
    <script src="assets/js/modules/maintenance-tips.js"></script>
    <script src="assets/js/app.js"></script>
</body>
</html>
